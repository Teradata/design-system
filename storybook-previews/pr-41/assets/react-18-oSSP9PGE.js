import{r as l}from"./index-BzAyOvpL.js";import{r as c}from"./index-ChT-0MES.js";import"./_commonjsHelpers-Cpj98o6Y.js";var s,a=c;s=a.createRoot,a.hydrateRoot;var n=new Map,m=({callback:e,children:r})=>{let t=l.useRef();return l.useLayoutEffect(()=>{t.current!==e&&(t.current=e,e())},[e]),r};typeof Promise.withResolvers>"u"&&(Promise.withResolvers=()=>{let e=null,r=null;return{promise:new Promise((t,o)=>{e=t,r=o}),resolve:e,reject:r}});var d=async(e,r,t)=>{let o=await v(r,t);if(function(){return globalThis.IS_REACT_ACT_ENVIRONMENT}())return void o.render(e);let{promise:i,resolve:u}=Promise.withResolvers();return o.render(l.createElement(m,{callback:u},e)),i},h=(e,r)=>{let t=n.get(e);t&&(t.unmount(),n.delete(e))},v=async(e,r)=>{let t=n.get(e);return t||(t=s(e,r),n.set(e,t)),t};export{d as renderElement,h as unmountElement};
